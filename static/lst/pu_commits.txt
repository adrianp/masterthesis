 SHA    660da06
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-03-04 08:21:57 +0100

comments: login required for vote and report

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Acked-by: Jiri Kuncar <jiri.kuncar@cern.ch>

 invenio/modules/comments/views.py | 2 ++
 1 file changed, 2 insertions(+)

 SHA    19ee119
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-02-28 08:25:42 +0100

installation: typeahead Grunt fix

* Fix typeahead path for v0.10+.

* Minor lint fixes.

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 Gruntfile.js  |  4 ----
 grunt/copy.js | 16 +++++++++++++---
 2 files changed, 13 insertions(+), 7 deletions(-)

 SHA    be024ac
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-02-27 18:18:55 +0100

accounts: gettext import fix

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/modules/accounts/validators.py | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

 SHA    dcf0d98
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-02-27 14:04:15 +0100

base: sticky footer fix

* Fix sticky footer issue on pages with content longer than 100% window
  size, by updating to the reference sticky footer implementation for
  Bootstrap3.

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/base/static/css/base.css | 49 ++++++++--------------------------------
 1 file changed, 9 insertions(+), 40 deletions(-)

 SHA    29d9c90
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-02-27 09:13:31 +0100

base: Apache configuration template fix

* Fix newline issue when CFG_WEBSTYLE_HTTP_USE_COMPRESSION is missing.

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/base/templates/invenio-apache-vhost.tpl | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

 SHA    142164a
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-02-26 08:29:49 +0100

jsonalchemy: JSON-LD addition

* Add utilities for serializing SmartJson objects to JSON-LD. See specification
[1] and the used pyld library [2]. The recommended method for publishing
JSON-LD is via the REST extension.

[1] http://www.w3.org/TR/json-ld/
[2] https://github.com/digitalbazaar/pyld

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 .../jsonalchemy/jsonext/parsers/schema_parser.py   |  6 +-
 invenio/modules/jsonalchemy/registry.py            | 14 ++++
 invenio/modules/jsonalchemy/wrappers.py            | 75 +++++++++++++++++++++-
 requirements.txt                                   |  1 +
 4 files changed, 92 insertions(+), 4 deletions(-)

 SHA    46321cc
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-02-26 08:27:25 +0100

installation: pytz

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 requirements.txt | 1 +
 1 file changed, 1 insertion(+)

 SHA    e24b353
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-02-19 11:48:19 +0100

comments: collapse.js refactoring

* Export collpase toggle functions as module.

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 .../comments/static/js/comments/collapse.js        | 58 ++++++++++++++--------
 1 file changed, 36 insertions(+), 22 deletions(-)

 SHA    8cb8582
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-02-19 10:29:45 +0100

comments: tests import fix

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/modules/comments/testsuite/test_comments.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

 SHA    4a4709b
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-02-19 10:07:36 +0100

static: bindModals focus element specification

* Allow specifying on what element to focus when opening a modal. Useful for
forms.

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/base/static/js/invenio.js                              | 10 +++++++---
 invenio/modules/comments/templates/comments/comments_base.html |  4 ++--
 invenio/modules/comments/templates/comments/reviews_base.html  |  4 ++--
 3 files changed, 11 insertions(+), 7 deletions(-)

 SHA    4668d4e
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-02-19 10:00:21 +0100

utils: HTML ID washer

* Add utility for cleaning strings such that they can be used as HTML IDs,
without generating, for example, jQuery issues. Such strings must start with
a lowercase letter and use only alpha-numeric characters. Unit tests included.

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/testsuite/test_utils_washers.py | 51 +++++++++++++++++++++++++++++++++
 invenio/utils/washers.py                | 18 ++++++++++++
 2 files changed, 69 insertions(+)

 SHA    1201dfd
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-02-14 16:01:23 +0100

config: pdfopt workaround

* Adds a workaround for missing pdfopt in Ghostscript 9.0.7+, as suggested at:
http://invenio-software.org/ticket/1560
See also: http://invenio-software.org/ticket/1561

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/base/config.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

 SHA    453ffc6
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-02-14 14:31:05 +0100

base: sticky footer fix

* Fixes sticky page footer by re-adding CSS code removed from page_base.html.

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/base/static/css/base.css | 53 +++++++++++++++++++++++++++++++++++++++-
 1 file changed, 52 insertions(+), 1 deletion(-)

 SHA    9b93b69
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-02-14 13:17:12 +0100

utils: which function addition

* Adds a which function, similar to GNU which. For CPython 3.3+, this is already
included in shutil.py. For older versions it was backported.

* Fixes configuration variables that point to executable paths to use which.

Co-authored-by: Jiri Kuncar <jiri.kuncar@cern.ch>
Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/base/config.py | 48 ++++++++++++++++++-----------------
 invenio/utils/shell.py | 69 ++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 94 insertions(+), 23 deletions(-)

 SHA    27c4379
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-02-13 16:40:14 +0100

requirements: pymongo addition

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 requirements-mongo.txt | 1 +
 1 file changed, 1 insertion(+)

 SHA    9d35b39
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-02-13 16:30:11 +0100

static: modal binding element filter addition

* Adds an optional jQuery filter parameter to the modal binding function; this
is useful, for example, when binding after an AJAX request for skipping already
bound elements.

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/base/static/js/invenio.js | 13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

 SHA    57365b4
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-02-12 17:14:30 +0100

utils: unicode fix

* Accepts unicode as well as strings for escape_shell_arg().

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/utils/shell.py | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

 SHA    909bf28
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-02-12 10:48:46 +0100

previewer: refactoring

* Changes preview view function arguments, passes request arguments.

* Sends only file reference from view to plugins.

* Fixes PEP8.

* Adds previewer preference order, settable via CFG_PREVIEW_PREFERENCE, which
is a dictionary such as {'.pdf' : ['pdftk', 'gview']}, specifying that 'pdftk'
it the first choice for PDFs.

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/modules/previewer/previewerext/csv.py     | 10 +++++---
 invenio/modules/previewer/previewerext/default.py | 11 ++++++---
 invenio/modules/previewer/previewerext/gview.py   | 18 ++++++++------
 invenio/modules/previewer/views.py                | 30 ++++++++++++++---------
 4 files changed, 42 insertions(+), 27 deletions(-)

 SHA    fa9f53d
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-02-13 13:07:37 +0100

previewer: post-move fixes

* Fixes issues generated by module renaming.

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/modules/previewer/registry.py                        | 12 ++++++------
 invenio/modules/previewer/templates/previewer/bottom.html    |  2 +-
 invenio/modules/previewer/templates/previewer/csv.html       |  2 +-
 invenio/modules/previewer/templates/previewer/csv_base.html  |  2 +-
 invenio/modules/previewer/templates/previewer/default.html   |  2 +-
 .../modules/previewer/templates/previewer/default_base.html  |  2 +-
 invenio/modules/previewer/templates/previewer/gview.html     |  2 +-
 .../modules/previewer/templates/previewer/gview_base.html    |  2 +-
 invenio/modules/previewer/templates/previewer/preview.html   |  2 +-
 .../modules/previewer/templates/previewer/preview_base.html  |  4 ++--
 invenio/modules/previewer/templates/previewer/top.html       |  2 +-
 invenio/modules/previewer/views.py                           | 12 ++++++------
 12 files changed, 23 insertions(+), 23 deletions(-)

 SHA    504cdf6
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-02-13 13:01:21 +0100

previews: move to previewer

* Renames the previews module to previewer. Note that this commit is broken.

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/modules/previewer/__init__.py              |   0
 invenio/modules/previewer/previewerext/__init__.py |   0
 invenio/modules/previewer/previewerext/csv.py      |  32 ++++
 invenio/modules/previewer/previewerext/default.py  |  31 ++++
 invenio/modules/previewer/previewerext/gview.py    |  37 ++++
 invenio/modules/previewer/registry.py              |  43 +++++
 .../previewer/templates/previewer/bottom.html      |  20 +++
 .../previewer/templates/previewer/bottom_base.html |  98 ++++++++++
 .../modules/previewer/templates/previewer/csv.html |  20 +++
 .../previewer/templates/previewer/csv_base.html    | 198 +++++++++++++++++++++
 .../previewer/templates/previewer/default.html     |  20 +++
 .../templates/previewer/default_base.html          |  27 +++
 .../previewer/templates/previewer/gview.html       |  20 +++
 .../previewer/templates/previewer/gview_base.html  |  33 ++++
 .../previewer/templates/previewer/preview.html     |  20 +++
 .../templates/previewer/preview_base.html          |  77 ++++++++
 .../modules/previewer/templates/previewer/top.html |  20 +++
 .../previewer/templates/previewer/top_base.html    |  42 +++++
 invenio/modules/previewer/views.py                 |  52 ++++++
 invenio/modules/previews/__init__.py               |   0
 invenio/modules/previews/previewext/__init__.py    |   0
 invenio/modules/previews/previewext/csv.py         |  32 ----
 invenio/modules/previews/previewext/default.py     |  31 ----
 invenio/modules/previews/previewext/gview.py       |  37 ----
 invenio/modules/previews/registry.py               |  43 -----
 .../previews/templates/previews/bottom.html        |  20 ---
 .../previews/templates/previews/bottom_base.html   |  98 ----------
 .../modules/previews/templates/previews/csv.html   |  20 ---
 .../previews/templates/previews/csv_base.html      | 198 ---------------------
 .../previews/templates/previews/default.html       |  20 ---
 .../previews/templates/previews/default_base.html  |  27 ---
 .../modules/previews/templates/previews/gview.html |  20 ---
 .../previews/templates/previews/gview_base.html    |  33 ----
 .../previews/templates/previews/preview.html       |  20 ---
 .../previews/templates/previews/preview_base.html  |  77 --------
 .../modules/previews/templates/previews/top.html   |  20 ---
 .../previews/templates/previews/top_base.html      |  42 -----
 invenio/modules/previews/views.py                  |  52 ------
 38 files changed, 790 insertions(+), 790 deletions(-)

 SHA    1fcdd2d
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-02-12 13:43:06 +0100

comments: reviews.html template

* Re-adds reviews.html template extending from reviews_base.html. Fixes broken
parent move commit.

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 .../modules/comments/templates/comments/reviews.html  | 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

 SHA    55ee1d7
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-02-12 13:32:06 +0100

comments: reviews_base.html template

* Moves reviews.html to reviews_base.html. Note that this commit is broken.

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 .../comments/templates/comments/reviews.html       | 130 ---------------------
 .../comments/templates/comments/reviews_base.html  | 130 +++++++++++++++++++++
 2 files changed, 130 insertions(+), 130 deletions(-)

 SHA    e9297d4
Author Adrian-Tudor Panescu <adrian@panescu.com>
Date   2014-02-12 20:17:50 +0100

docs: git workflow additions and corrections

* Adds explicit requirement for empty lines between commit message body list
items.

* Changes headline length requirement to strict 50 characters.

* Breaks long lines.

* Adds note on using vim as commit message editor.

* Adds a more complete commit message example.

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 docs/developers/git-workflow.rst | 30 +++++++++++++++++++-----------
 1 file changed, 19 insertions(+), 11 deletions(-)

 SHA    f0a4cf5
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-02-03 16:18:26 +0100

deposit: plupload filetable fix

* Displays uploaded files in deposition form.

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/modules/deposit/static/js/deposit/templates.js | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

 SHA    78636f7
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-02-03 11:39:51 +0100

Grunt: typeahead.js fix

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 Gruntfile.js | 13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

 SHA    dd4512e
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-02-03 09:25:59 +0100

requirements: qrcode removal

* qrcode removed from main requirements;

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 requirements.txt | 1 -
 1 file changed, 1 deletion(-)

 SHA    148e32b
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-01-31 16:55:11 +0100

comments: bind modal on record tab change

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/modules/comments/templates/comments/comments.html | 1 +
 1 file changed, 1 insertion(+)

 SHA    e3c30a2
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-01-31 15:21:10 +0100

deposit: static file fixes

* Added missing plupload to Bower and Grunt;
* Fixed wrong location of jQuery UI themes.

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 Gruntfile.js                                            | 15 ++++++++++++++-
 bower.json                                              |  3 ++-
 invenio/modules/deposit/templates/deposit/run_base.html |  2 +-
 3 files changed, 17 insertions(+), 3 deletions(-)

 SHA    a88ada8
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-01-30 16:30:54 +0100

comments: fix for JavaScript in record tab

* Moves modal binding to separate function in invenio.js;
* Adds macros for injecting CSS and JS.

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/base/static/js/invenio.js                  | 33 ++++++++++++----------
 invenio/base/templates/_macros.html                | 18 +++++++++++-
 invenio/base/templates/page_base.html              | 16 ++++-------
 .../comments/templates/comments/comments.html      |  8 +++++-
 .../comments/templates/comments/reviews.html       |  4 +++
 5 files changed, 51 insertions(+), 28 deletions(-)

 SHA    ea6b689
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-01-30 14:53:00 +0100

requirements: better separation

* Moves PIL and qrcode to separate requirements file as they are needed together
for formatting records;
* Removes iPython from -extras as it is already included in -dev.

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 requirements-extras.txt | 3 ---
 requirements-img.txt    | 2 ++
 2 files changed, 2 insertions(+), 3 deletions(-)

 SHA    6b07e4b
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-01-29 12:54:19 +0100

requirements: dictdiffer egg fix

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 requirements.txt | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

 SHA    8a08054
Author Adrian-Tudor Panescu <adrian@panescu.com>
Date   2014-01-29 08:18:45 +0100

docs: commit message format section correction

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 docs/developers/git-workflow.rst | 7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

 SHA    b13a848
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-01-28 16:21:55 +0100

SSO: print statements removal

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/ext/login/legacy_user.py  | 1 -
 invenio/ext/sso/__init__.py       | 1 -
 invenio/testsuite/test_ext_sso.py | 1 -
 3 files changed, 3 deletions(-)

 SHA    f2456c1
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-01-28 14:39:09 +0100

Grunt: fix for jquery.min.map cleanup

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 Gruntfile.js | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

 SHA    f5e3c8d
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-01-28 12:53:05 +0100

base: messages to flashed_messages macro rename

* Renames `messages()` macro to `flashed_messages()` in order to avoid
  conflict with the messages module.

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/base/templates/_macros.html   | 2 +-
 invenio/base/templates/page_base.html | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

 SHA    07ed0f0
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-01-27 08:26:02 +0100

base: add footer and header base templates

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/base/templates/footer.html      | 37 +------------
 invenio/base/templates/footer_base.html | 53 +++++++++++++++++++
 invenio/base/templates/header.html      | 77 +--------------------------
 invenio/base/templates/header_base.html | 93 +++++++++++++++++++++++++++++++++
 4 files changed, 150 insertions(+), 110 deletions(-)

 SHA    78acc70
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-01-21 14:36:35 +0100

scripts: demosite populate options

* Custom MARC file input for demo records;
* Starting bibsched job id;
* Extra info.

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/base/scripts/demosite.py | 46 ++++++++++++++++++++++++++++------------
 1 file changed, 33 insertions(+), 13 deletions(-)

 SHA    b06d278
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-01-20 15:48:06 +0100

comments: Bootstrap3 fixes

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/legacy/bibclassify/keyword_analyzer.py        | 10 +++++-----
 .../modules/comments/static/css/comments/comments.css |  2 +-
 .../modules/comments/static/js/comments/collapse.js   | 14 +++++++++++---
 invenio/modules/comments/templates/comments/add.html  |  4 ++--
 .../comments/templates/comments/add_review.html       |  6 +++---
 .../modules/comments/templates/comments/comments.html | 19 ++++++++++++-------
 .../modules/comments/templates/comments/reviews.html  |  8 ++++----
 7 files changed, 38 insertions(+), 25 deletions(-)

 SHA    f44b7dc
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-01-17 13:27:10 +0100

base: flashed (alerts) messages macro

* Moves the Bootstrap alerts/ Flask flashed messages to a reusable Jinja2 macro.

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/base/templates/_macros.html   | 29 +++++++++++++++++++++++++++++
 invenio/base/templates/page_base.html | 25 ++++++++++---------------
 2 files changed, 39 insertions(+), 15 deletions(-)

 SHA    727c169
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-01-16 08:53:05 +0100

datastructures: SmartDict.update() addition

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/utils/datastructures.py | 3 +++
 1 file changed, 3 insertions(+)

 SHA    de270a1
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-01-14 13:17:29 +0100

websearch: pybabel fixes

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/legacy/websearch/webinterface.py | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

 SHA    c0f071e
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-01-09 11:50:38 +0100

base: css and js Jinja blocks in base template

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/base/templates/page_base.html | 34 +++++++++++++++++++---------------
 1 file changed, 19 insertions(+), 15 deletions(-)

 SHA    2f84313
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-01-07 10:42:07 +0100

requirements: broken pypi links fix

* Packages removed from pypi have now direct links; this is only a temporary
solution.

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

Conflicts:
	requirements.txt

 requirements-extras.txt | 2 +-
 requirements-flask.txt  | 2 +-
 requirements.txt        | 4 ++--
 3 files changed, 4 insertions(+), 4 deletions(-)

 SHA    54ff0fd
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-01-07 10:44:04 +0100

requirements: version bumps

* Bumps MySQL-python and beautifulsoup4 to newer versions.

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 requirements.txt | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

 SHA    3bcae67
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-01-07 10:40:30 +0100

session: fixes login when no cache backend exists

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/ext/session/backends/sqlalchemy.py | 14 +++++++-------
 invenio/ext/session/model.py               |  2 +-
 2 files changed, 8 insertions(+), 8 deletions(-)

 SHA    2205f3a
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2014-01-06 14:27:19 +0100

testsuite: python 2.6 fix

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/modules/textminer/testsuite/test_textminer_documents.py | 7 ++++++-
 invenio/testsuite/__init__.py                                   | 9 ++++++---
 2 files changed, 12 insertions(+), 4 deletions(-)

 SHA    262c574
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2013-12-20 12:55:15 +0100

search: clearer collection name in search pages

Reported-by: Tibor Simko <tibor.simko@cern.ch>
Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/modules/search/templates/search/index.html | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

 SHA    19fbab8
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2013-12-20 08:57:13 +0100

records: tab switching events addition

* When tab switching is initiated, the "tabreload" JavaScript event is
  trigerred, and when the tab is completely switched, "tabreloaded" is
  triggered.

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/legacy/webcomment/templates.py               | 2 +-
 invenio/modules/records/static/js/records/records.js | 8 ++++----
 invenio/modules/records/views.py                     | 5 +++++
 3 files changed, 10 insertions(+), 5 deletions(-)

 SHA    67a96a3
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2013-12-13 11:43:49 +0100

global: various fixes

* Addresses problems with translatable messages.

* Fix for login redirect not working with missing referrer.

* Moves messages JavaScript to static folder and fixes select all
  checkbox.

* Fixes 404 when clicking on tag in list preview.

* Adds licensing information.

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/core/record/definitions.py                 |  1 -
 invenio/ext/legacy/__init__.py                     |  1 +
 invenio/legacy/bibclassify/engine.py               | 14 +++++------
 invenio/legacy/bibclassify/keyword_analyzer.py     |  4 ++--
 invenio/legacy/bibclassify/templates.py            |  4 ++--
 invenio/legacy/bibclassify/text_extractor.py       |  4 ++--
 invenio/legacy/bibclassify/text_normalizer.py      |  4 ++--
 invenio/legacy/bibclassify/webinterface.py         | 12 +++++-----
 invenio/legacy/bibdocfile/__init__.py              | 18 ++++++++++++++
 invenio/legacy/webcomment/templates.py             |  3 ++-
 invenio/legacy/webstyle/templates.py               |  6 ++---
 invenio/legacy/webstyle/webdoc.py                  |  1 +
 invenio/legacy/webstyle/webdoc_webinterface.py     | 20 +++++++++-------
 invenio/legacy/websubmit/engine.py                 |  3 ++-
 invenio/modules/accounts/views.py                  |  2 +-
 invenio/modules/cloudconnector/__init__.py         | 18 ++++++++++++++
 .../templates/cloudconnector/files.html            |  8 +++++--
 .../templates/cloudconnector/macros.html           |  4 ++--
 invenio/modules/comments/forms.py                  |  2 +-
 .../comments/static/js/comments/collapse.js        | 19 +++++++++++++++
 .../comments/static/js/comments/modal_tweaks.js    | 19 +++++++++++++++
 .../messages/static/js/messages/messages.js        | 28 ++++++++++++++++++++++
 .../modules/messages/templates/messages/index.html | 13 ++--------
 invenio/modules/messages/views.py                  | 18 +++++++-------
 invenio/modules/records/views.py                   |  2 +-
 .../modules/tags/templates/tags/create_base.html   |  1 -
 .../tags/templates/tags/display_cloud_base.html    |  4 ++--
 invenio/modules/tags/views.py                      |  2 +-
 28 files changed, 167 insertions(+), 68 deletions(-)

 SHA    c3282b6
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2013-12-06 09:35:13 +0100

legacy: webinterface import fix

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/legacy/bibclassify/webinterface.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

 SHA    56c8668
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2013-12-05 15:10:22 +0100

js: I18N helper

* Adds a _ function that can be used directly inside JavaScript code for
internationalization; example usage in tags module.

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/base/static/js/translate.js                | 31 ++++++++++++++++++++++
 invenio/base/templates/_translate.html             | 26 ++++++++++++++++++
 invenio/base/templates/page.html                   |  1 +
 .../modules/tags/static/js/tags/record_editor.js   |  2 +-
 .../tags/templates/tags/record_editor_base.html    |  3 +++
 5 files changed, 62 insertions(+), 1 deletion(-)

 SHA    d88f43d
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2013-11-14 11:21:35 +0100

comments: stops toggle event propagation

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 .../comments/static/css/comments/comments.css      |  7 ++++
 .../comments/static/js/comments/collapse.js        | 30 +++++++++++++++
 .../comments/templates/comments/comments.html      | 43 ++--------------------
 invenio/modules/comments/views.py                  |  2 +-
 4 files changed, 42 insertions(+), 40 deletions(-)

 SHA    9d5eaf2
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2013-11-12 16:48:07 +0100

comments: order by creation date

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/modules/comments/models.py | 2 +-
 invenio/modules/comments/views.py  | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

 SHA    1393933
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2013-11-06 14:04:55 +0100

accounts: LostPassword form import addition

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/modules/accounts/views.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

 SHA    093bb33
Author Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2013-11-06 09:28:34 +0100

base: blueprint static folder check addition

Signed-off-by: Adrian-Tudor Panescu <adrian.tudor.panescu@cern.ch>

 invenio/base/wrappers.py | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

 SHA    0cf4510
Author Adrian Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2013-10-16 13:32:38 +0200

WebSession: fix for validation of changed email

* When user changes its email, the password is reset to a random one. It
  forces user to always confirm its new email. (closes #1601)

Reviewed-by: Jiri Kuncar <jiri.kuncar@cern.ch>

 modules/miscutil/lib/mailutils.py              |  6 +++---
 modules/websession/lib/webaccount_blueprint.py |  6 ++----
 modules/websession/lib/webaccount_forms.py     | 16 +++++++++++++---
 modules/websession/lib/webuser_flask.py        |  1 -
 4 files changed, 18 insertions(+), 11 deletions(-)

 SHA    a9186ee
Author Adrian Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2013-10-16 09:23:30 +0200

WebSession: invalid accounts login fix

* Local accounts with unverified emails are no longer able to login.

Reviewed-by: Jiri Kuncar <jiri.kuncar@cern.ch>

 modules/websession/lib/webaccount_blueprint.py | 31 +++++++++++++++-----------
 1 file changed, 18 insertions(+), 13 deletions(-)

 SHA    c620ae1
Author Adrian Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2013-10-15 14:26:43 +0200

WebSession: change password initial port

* Ports change password feature using WTForms.

Reviewed-by: Jiri Kuncar <jiri.kuncar@cern.ch>

 modules/websession/etc/templates/Makefile.am       |  5 ++-
 .../websession/etc/templates/webuser_widget.html   | 32 +++++++++++++
 modules/websession/lib/Makefile.am                 |  1 +
 modules/websession/lib/webaccount_blueprint.py     | 11 ++++-
 modules/websession/lib/webaccount_forms.py         | 33 ++++++++++++++
 .../lib/webaccount_password_user_settings.py       | 52 ++++++++++++++++++++++
 modules/websession/lib/webaccount_user_settings.py |  5 +--
 7 files changed, 131 insertions(+), 8 deletions(-)

 SHA    43e89fd
Author Adrian Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2013-10-11 16:53:17 +0200

WebSession: lost password blueprint addition

* Ports the 'lost password' functionality to the new structure.

Reviewed-by: Jiri Kuncar <jiri.kuncar@cern.ch>

 modules/websession/etc/templates/Makefile.am       |  1 +
 .../websession/etc/templates/webaccount_lost.html  | 34 +++++++++++++++++++++
 modules/websession/lib/webaccount_blueprint.py     | 24 +++++++++++++--
 modules/websession/lib/webaccount_forms.py         | 20 ++++++++++++-
 modules/websession/lib/webuser_flask.py            | 35 +++++++++++++++++++++-
 5 files changed, 110 insertions(+), 4 deletions(-)

 SHA    554b012
Author Adrian Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2013-10-17 10:26:46 +0200

WebStyle: debug-toolbar display condition fix

* The Flask debug-toolbar is shown iff it is added in CFG_DEVEL_TOOLS and
  CFG_DEVEL_SITE == 9 (shown to ALL users), or the current user is super
  admin (regardless of CFG_DEVEL_SITE).

Signed-off-by: Adrian Tudor Panescu <adrian.tudor.panescu@cern.ch>
Reviewed-by: Jiri Kuncar <jiri.kuncar@cern.ch>

 modules/webstyle/lib/webinterface_handler_flask.py | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

 SHA    065c092
Author Adrian Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2013-10-11 14:53:45 +0200

urlutils: fix for wrong URL arguments encoding

* Fixes issue with URLs being escaped twice.

* TODO usage of `make_canonical_urlargd` needs to be checked.

Signed-off-by: Jiri Kuncar <jiri.kuncar@cern.ch>

 modules/miscutil/lib/urlutils.py            | 3 ++-
 modules/miscutil/lib/urlutils_unit_tests.py | 4 +++-
 2 files changed, 5 insertions(+), 2 deletions(-)

 SHA    af270ca
Author Adrian Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2013-10-11 13:13:46 +0200

WebSession: email form validation addition

Signed-off-by: Jiri Kuncar <jiri.kuncar@cern.ch>

 modules/websession/lib/webaccount_forms.py | 18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

 SHA    bd8d829
Author Adrian Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2013-10-15 14:37:20 +0200

WebSearch: fix for cache timestamp file handling

Reviewed-by: Jiri Kuncar <jiri.kuncar@cern.ch>

 modules/websearch/lib/websearch_webcoll.py | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

 SHA    c1ee3cf
Author Adrian Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2013-10-15 14:43:30 +0200

WebSession: fix for login referer redirection

* Addes blacklist of links which should not be followed after login.
  (closes #1598)

Signed-off-by: Adrian Tudor Panescu <adrian.tudor.panescu@cern.ch>
Reviewed-by: Jiri Kuncar <jiri.kuncar@cern.ch>

 modules/websession/lib/webaccount_blueprint.py | 14 +++++++++++---
 1 file changed, 11 insertions(+), 3 deletions(-)

 SHA    d22c642
Author Adrian Tudor Panescu <adrian.tudor.panescu@cern.ch>
Date   2013-10-15 14:36:07 +0200

mailutils: fix for double mail sending issue

* Addresses problem with double send emails.  (addresses #1598)

Reviewed-by: Jiri Kuncar <jiri.kuncar@cern.ch>

 modules/miscutil/lib/mailutils.py | 1 -
 1 file changed, 1 deletion(-)
